#include<bits/stdc++.h>
using namespace std;

//显示菜单
void showMenu(){
	cout<<"***************************"<<endl;
	cout<<"*****  1、添加联系人  *****"<<endl;
	cout<<"*****  2、显示联系人  *****"<<endl;
	cout<<"*****  3、删除联系人  *****"<<endl;
	cout<<"*****  4、查找联系人  *****"<<endl;
	cout<<"*****  5、修改联系人  *****"<<endl;
	cout<<"*****  6、清空联系人  *****"<<endl;
	cout<<"*****  0、退出通讯录  *****"<<endl;
	cout<<"***************************"<<endl;
}

class person{
    public:
    string name;
    string birth;
    long long tel;
    string mail;
    string addr;
};//个人类

//通讯录类
//根据实际情况，有最大储存上限
#define MAX 1000
class Addressbooks{
    public:
    Addressbooks(){
    }
    ~Addressbooks(){
    }

    class person personArray[MAX];

    static int size;

    //添加联系人
    void addPerson(Addressbooks*abs){
        if(abs->size==MAX){
            cout<<"通讯录已满，无法添加"<<endl;
            return ;
        }

        else{
            //输入姓名
            string name;
            cout<<"请输入姓名："<<endl;
            cin>>name;
            abs->personArray[abs->size].name=name;

            //输入生日
            string birth;
            cout<<"请输入出生日期："<<endl;
            cin>>birth;
            abs->personArray[abs->size].birth=birth;

            //输入年龄
            cout<<"请输入电话："<<endl;
            long long tel;
            cin>>tel;
            abs->personArray[abs->size].tel=tel;

            //电话
            cout<<"请输入邮箱："<<endl;
            string mail;
            cin>>mail;
            abs->personArray[abs->size].mail=mail;

            //地址
            cout<<"请输入地址："<<endl;
            string addr;
            cin>>addr;
            abs->personArray[abs->size].addr=addr;

            abs->size++;

            cout<<"添加成功"<<endl;

        }
        system("pause");
        system("cls");
    }

    //显示所有联系人
    void showPerson(Addressbooks*abs){
        if(abs->size==0){
            cout<<"当前电话簿为空"<<endl;
        }
        else{
            for(int i=0;i<abs->size;i++){
                cout<<"姓名："<<abs->personArray[i].name<<endl;
                cout<<"出生日期："<<abs->personArray[i].birth<<endl;;
                cout<<"电话号码："<<abs->personArray[i].tel<<endl;
                cout<<"电子邮箱："<<abs->personArray[i].mail<<endl;
                cout<<"工作单位："<<abs->personArray[i].addr<<endl;
                cout<<endl;
            }
        }
        system("pause");
        system("cls");
    }

//判断人名是否存在
    int isExistName(Addressbooks*abs,string name){
        for(int i=0;i<abs->size;i++){
            if(abs->personArray[i].name==name){
                return i;
            }
        }
        return -1;
    }

//判断电话号码是否存在
    int isExistTel(Addressbooks*abs,long long tel){
        for(int i=0;i<abs->size;i++){
            if(abs->personArray[i].tel==tel){
                return i;
            }
        }
        return -1;

    }

//删除联系人
    void deletePerson(Addressbooks*abs){
        cout<<"输入您要删除的联系人："<<endl;
        string name;
        cin>>name;
        int ret=isExistName(abs,name);
        if(ret!=-1){
            for(int i=ret;i<abs->size;i++){
                abs->personArray[i]=abs->personArray[i+1];
                abs->size--;

            }
            cout<<"删除成功"<<endl;
        }
        else{
            cout<<"查无此人"<<endl;
        }
        system("pause");
        system("cls");
    }

//查找联系人
void findPerson(Addressbooks*abs){
    cout<<"请选择搜索方式:"<<endl;
    cout<<"1. 根据姓名，2.根据电话号码"<<endl;
    int cho,ret1,ret2;
    cin>>cho;
    switch(cho){
        case 1:{
            cout<<"请输入要查找的姓名"<<endl;
            string name;
            cin>>name;
            int ret1=isExistName(abs,name);
             if(ret1!=-1){
                cout<<"姓名："<<abs->personArray[ret1].name<<endl;
                cout<<"出生日期："<<abs->personArray[ret1].birth<<endl;;
                cout<<"电话号码："<<abs->personArray[ret1].tel<<endl;
                cout<<"电子邮箱："<<abs->personArray[ret1].mail<<endl;
                cout<<"工作单位："<<abs->personArray[ret1].addr<<endl;
                cout<<endl;
            }
            else{
                cout<<"查无此人"<<endl;
            }
            break;}
        case 2:{
            cout<<"请输入要查找的电话号码"<<endl;
            long long tel;
            cin>>tel;
            int ret2=isExistTel(abs,tel);
             if(ret2!=-1){
                cout<<"姓名："<<abs->personArray[ret2].name<<endl;
                cout<<"出生日期："<<abs->personArray[ret2].birth<<endl;;
                cout<<"电话号码："<<abs->personArray[ret2].tel<<endl;
                cout<<"电子邮箱："<<abs->personArray[ret2].mail<<endl;
                cout<<"工作单位："<<abs->personArray[ret2].addr<<endl;
                cout<<endl;
            }
            else{
                cout<<"查无此人"<<endl;
            }
            break;} 
    }
    system("pause");
    system("cls");

}

//修改联系人
void modifyPerson(Addressbooks*abs){
    cout<<"请输入要修改的人"<<endl;
    string name;
    cin>>name;
    int ret=isExistName(abs,name);
    if(ret!=-1){
        cout<<"您要修改哪项"<<endl;
        cout<<"1.姓名 2.生日 3.电话号码 4.邮箱 5.地址"<<endl;
        int cho;
        cin>>cho; //To case lable

        string name;
        string birth;
        long long tel;
        string mail;
        string addr;

        switch(cho){
            case 1:
                cout<<"请输入姓名"<<endl;
                cin>>name;
                abs->personArray[ret].name=name;
                break;
            case 2:
                cout<<"请输入生日："<<endl;
                cin>>birth;
                abs->personArray[ret].birth=birth;
                break;
            case 3:
                cout<<"请输入电话号码"<<endl;
                cin>>tel;
                abs->personArray[ret].tel=tel;
                break;
            case 4:
                cout<<"请输入电子邮箱"<<endl;
                cin>>mail;
                abs->personArray[ret].mail=mail;
                break;
            case 5:
                cout<<"请输入地址"<<endl;
                cin>>addr;
                abs->personArray[ret].addr=addr;
                break;
        }
        cout<<"修改成功"<<endl;
    }
    else{
        cout<<"查无此人"<<endl;
    }
    system("pause");
    system("cls");
}

//清空联系人
void clearPerson(Addressbooks*abs){
    abs->size=0;
    cout<<"清空成功"<<endl;
    system("pause");
    system("cls");
}
};

//对静态变量定义
int Addressbooks::size=0;

int main(){

    Addressbooks abs;
    abs.size=0; //操作静态变量

    int select=0;

    while(1){
        showMenu();
        cin>>select;
        switch(select){
            case 1: //添加联系人
                abs.addPerson(&abs);
                break;
            case 2: //显示联系人
                abs.showPerson(&abs);
                break;
            case 3: //删除联系人
                abs.deletePerson(&abs);
                break;
            case 4: //查找联系人
                abs.findPerson(&abs);
                break;
            case 5: //修改联系人
                abs.modifyPerson(&abs);
                break;
            case 6: //清空联系人
                abs.clearPerson(&abs);
                break;
            case 0: //退出通讯录
                cout<<"感谢您的使用"<<endl;
                return 0;
        }
    }
}
